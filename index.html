<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="JSoup-Configuration : Externalize your JSoup configuration!">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>JSoup-Configuration</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/trevershick/jsoup-configuration">View on GitHub</a>

          <h1 id="project_title">JSoup-Configuration</h1>
          <h2 id="project_tagline">Externalize your JSoup configuration!</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/trevershick/jsoup-configuration/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/trevershick/jsoup-configuration/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p><a href="http://mvnrepository.com/artifact/io.shick.jsoup/jsoup-configuration"><img src="https://maven-badges.herokuapp.com/maven-central/io.shick.jsoup/jsoup-configuration/badge.svg?style=flat" alt="Maven Status"></a>
<a href="https://travis-ci.org/trevershick/jsoup-configuration"><img src="https://travis-ci.org/trevershick/jsoup-configuration.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/trevershick/jsoup-configuration?branch=master"><img src="https://coveralls.io/repos/github/trevershick/jsoup-configuration/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://www.versioneye.com/user/projects/58253d34613b6801fb37e874"><img src="https://www.versioneye.com/user/projects/58253d34613b6801fb37e874/badge.svg?style=flat-square" alt="Dependency Status"></a>
<a href="http://www.apache.org/licenses/LICENSE-2.0.html"><img src="http://img.shields.io/:license-mit-brightgreen.svg" alt="License"></a></p>

<h3>
<a id="welcome" class="anchor" href="#welcome" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Welcome</h3>

<p>This library was born from the need to externalize JSoup's HTML Whitelist.  Deploying code
for constant tweaks to the Whitelist's configuration was cumbersome.  This library allows
me to update the configuration outside the code (in JSON or JowliML).</p>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h3>

<p>Pick your flavor, using JSON or JowliML and include the appropriate dependency.</p>

<p>In pom.xml, add the following:</p>

<div class="highlight highlight-text-xml"><pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;io.shick.jsoup&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;jsoup-configuration-gson&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;1.0.1&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre></div>

<p>Then in your Java code</p>

<div class="highlight highlight-source-java"><pre>
<span class="pl-c">// you can simply instantiate the parser</span>
<span class="pl-k">final</span> <span class="pl-smi">Whitelist</span> whitelist <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">GsonParser</span>()<span class="pl-k">.</span>parse(json)<span class="pl-k">.</span>whitelist();

<span class="pl-c">// or you can get a parser by 'type', (either gson or jowli)</span>
<span class="pl-k">final</span> <span class="pl-smi">Whitelist</span> whitelist <span class="pl-k">=</span> <span class="pl-smi">WhitelistConfigurationParserFactory</span><span class="pl-k">.</span>newParser(<span class="pl-s"><span class="pl-pds">"</span>gson<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>parse(json)<span class="pl-k">.</span>whitelist();

<span class="pl-c">// or you can append to an existing whitelist</span>
<span class="pl-k">final</span> <span class="pl-smi">Whitelist</span> whitelist <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">GsonParser</span>()<span class="pl-k">.</span>parse(json)<span class="pl-k">.</span>apply(<span class="pl-smi">Whitelist</span><span class="pl-k">.</span>basic());

<span class="pl-c">// you can construct a new config and serialize it out too!</span>
<span class="pl-smi">WhitelistConfiguration</span> wlc <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">BasicWhitelistConfiguration</span>()<span class="pl-k">.</span>enforceAttribute(<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>rel<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>nofollow<span class="pl-pds">"</span></span>);

<span class="pl-k">final</span> <span class="pl-smi">String</span> jowli <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">JowliMLFormatter</span>()<span class="pl-k">.</span>format(wlc)<span class="pl-k">.</span>toString();   <span class="pl-c">//jowliml</span>
<span class="pl-k">final</span> <span class="pl-smi">String</span> json <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">GsonFormatter</span>()<span class="pl-k">.</span>format(wlc)<span class="pl-k">.</span>toString();       <span class="pl-c">//json</span>

</pre></div>

<h3>
<a id="formats" class="anchor" href="#formats" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Formats</h3>

<h4>
<a id="json" class="anchor" href="#json" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JSON</h4>

<div class="highlight highlight-source-json"><pre>{
  <span class="pl-s"><span class="pl-pds">"</span>tags<span class="pl-pds">"</span></span> : [<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>],
  <span class="pl-s"><span class="pl-pds">"</span>attributes<span class="pl-pds">"</span></span> : {
    <span class="pl-s"><span class="pl-pds">"</span>blockquote<span class="pl-pds">"</span></span>: [<span class="pl-s"><span class="pl-pds">"</span>cite<span class="pl-pds">"</span></span>]
    },
  <span class="pl-s"><span class="pl-pds">"</span>enforcedAttributes<span class="pl-pds">"</span></span>: {
    <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span> : {
      <span class="pl-s"><span class="pl-pds">"</span>rel<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>nofollow<span class="pl-pds">"</span></span>
      }
    },
  <span class="pl-s"><span class="pl-pds">"</span>protocols<span class="pl-pds">"</span></span> : {
    <span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span> : { 
      <span class="pl-s"><span class="pl-pds">"</span>href<span class="pl-pds">"</span></span>:[<span class="pl-s"><span class="pl-pds">"</span>ftp<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>http<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>https<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>mailto<span class="pl-pds">"</span></span>]
      }
    }
}</pre></div>

<h4>
<a id="jowliml" class="anchor" href="#jowliml" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JowliML</h4>

<p>The point of JowliML is to provide a very terse representation of the whitelist rules.
What you see below is the same as the above JSON but in a much more compact,
externalized configuration friendly format.</p>

<pre><code>(all on one line)
t:a,b;
a:blockquote[cite],a[href,rel];
e:a[rel:nofollow];
p:a[href:[ftp,http,https,mailto]]
</code></pre>

<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Support or Contact</h3>

<p>Having trouble with Pages? Check the readme or add an <a href="https://github.com/trevershick/jsoup-configuration/issues">issue</a> and weâ€™ll help you sort it out.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">JSoup-Configuration maintained by <a href="https://github.com/trevershick">trevershick</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-38007431-3', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
